<?ini_set('display_errors', 1);
require_once('TwitterAPIExchange.php');
/** Set access tokens **/
$settings = array('oauth_access_token' => "2155522208-fOJx3vflSnt3hBYYpntBWYJ4314s6QbEO8rsiY3",
                          'oauth_access_token_secret' => 
                           "iEqpsvYO5SBVDGdNcdYS11Bam6pXyNPIkLXGiDVhmX3Th",
                          'consumer_key' => "tlY4e24Dlz3VRxfSrBKiig",
                          'consumer_secret' => "acsTqgpjSkD6cEtighaeWoxaVwQSlkBJD0sOG7Lnns");
// A simple GET request for a list of my followers
$url = 'https://api.twitter.com/1.1/followers/list.json';
$getfield = '?username=CSjwp1&skip_status=1';
$requestMethod = 'GET';
$twitter = new TwitterAPIExchange($settings);
$twitterOutput =  $twitter->setGetfield($getfield)  
                                     ->buildOauth($url, $requestMethod) 
                                     ->performRequest(); 


$twitter_data = var_dump(json_decode($twitterOutput));
echo $twitter_data;
// Perform subsequent GET requests and store data
$page = 0;      $data = array();
$array = json_decode($twitterOutput,true);
$page = paginateFollowers($array);
echo "<pre>" . print_r($data) . "</pre>";
while ($page!=0) {   
    $getpage = $getfield.'&cursor='.$page;  
    $twitterOutput =  $twitter->setGetfield($getpage)  
                                         ->buildOauth($url, $requestMethod) 
                                         ->performRequest(); 
    $array = json_decode($twitterOutput,true);  
    $page = paginateFollowers($array);
}

function paginateFollowers($array) {  
    global $data;  
    foreach($array["users"] as $user) {
        $data[] = array("userid" => $user["id_str"],
                                "username" => $user["screen_name"],
                                "name" => $user["name"],
                                "description" => $user["description"],
                                "tweets" => $user["statuses_count"],
                                "image" => $user["profile_image_url"],
                                "following" => $user["friends_count"],
                                "followers" => $user["followers_count"],
                                "location" => $user["location"] );
    }
    return $array["next_cursor"];
}?>
